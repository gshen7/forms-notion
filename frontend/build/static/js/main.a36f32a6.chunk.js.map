{"version":3,"sources":["serviceWorker.js","index.js","Home.js","App.js","Submitted.js","Create.js","Created.js","About.js"],"names":["Boolean","window","location","hostname","match","routing","exact","path","component","className","target","to","useState","heading","setHeading","description","setDescription","questions","setQuestions","submitError","setSubmitError","submitting","setSubmitting","loaded","setLoaded","form_id","useParams","history","useHistory","handleFieldInput","value","index","question","slice","useEffect","fetch","then","res","json","data","document","title","displayDescription","map","key","field","type","TextField","fullWidth","margin","onChange","e","label","mandatory","variant","FormControlLabel","control","Switch","checked","color","labelPlacement","FormControl","InputLabel","id","Select","MenuItem","options","option","multiple","input","Input","renderValue","selected","Chip","Checkbox","indexOf","ListItemText","primary","Button","onClick","method","headers","body","JSON","stringify","status","push","submit","self","formPath","state","formHeading","setFormHeading","user","setUser","pass","setPass","responseDb","setResponseDb","createError","setCreateError","creating","setCreating","form_heading","notion_db","create","base","host","setFormPath","formsDb","setFormsDb","fieldsDb","setFieldsDb","forms_db","fields_db","href","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a36f32a6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport Submitted from './Submitted'\nimport Home from './Home';\nimport Create from './Create'\nimport Created from './Created'\nimport About from './About'\nimport * as serviceWorker from './serviceWorker';\n\nconst routing = (\n  <Router>\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/form/:form_id\" component={App} />\n      <Route exact path=\"/submitted\" component={Submitted} />\n      <Route exact path=\"/create\" component={Create} />\n      <Route exact path=\"/created\" component={Created} />\n      <Route exact path=\"/about\" component={About} />\n    </Switch>\n  </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport './styles.css';\nimport { Link } from 'react-router-dom'\n\nexport default function Home() {\n    return (\n        <div className=\"Container\">\n            <h1>Notion Forms</h1>\n            <p><Link target=\"_blank\" to='/form/5ee8e0606b5647fed80c522f'>Join the waitlist to start creating your own forms as soon as possible</Link></p>\n            <p><Link to='/create'>Create a form (needs account)</Link></p>\n            <p><Link to='/about'>About</Link></p>\n        </div>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Button, \n  TextField, \n  Switch, \n  FormControl, \n  InputLabel, \n  Chip, \n  Select, \n  Input,\n  Checkbox,\n  ListItemText,\n  MenuItem, \n  FormControlLabel } from \"@material-ui/core\";\nimport './styles.css';\n\nexport default function App() {\n  const [heading, setHeading] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [questions, setQuestions] = useState([]);\n  const [submitError, setSubmitError] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  let {form_id} = useParams()\n  const history = useHistory()\n\n  const submit = (history) => {\n    setSubmitting(true)\n    setSubmitError(\"\")\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(questions)\n    }\n    fetch(`/api/submitToForm/${form_id}`, options).then((res) => {\n      if (res.status === 200) {\n        history.push('/submitted', { form_id: form_id })\n      } else {\n        setSubmitting(false)\n        setSubmitError(\"Could not submit form, check that all mandatory fields are included\")\n      }\n    })\n  };\n\n  const handleFieldInput = (value, index) => {\n    let question = questions[index]\n    question.value = value\n    setQuestions([\n      ...questions.slice(0,index),\n      question,\n      ...questions.slice(index+1)\n    ])\n    setSubmitError(\"\")\n  }\n\n  useEffect(() => {\n    fetch(`/api/getFormForDisplay/${form_id}`).then(res => res.json()).then(data => {\n      setHeading(data.heading)\n      setDescription(data.description)\n      setQuestions(data.questions)\n      setLoaded(true)\n      document.title = data.heading ? data.heading : \"Form\"\n    });\n  }, [form_id]);\n\n  let displayDescription = description ? (<p>{description}</p>) : \"\"\n\n  return (\n    <div className=\"Container\">\n      <h1>{heading ? heading : \"Loading...\"}</h1>\n      {displayDescription}\n      {questions.map( (question, index) => (\n        <div className=\"UserInput\" key={question.field}>\n          {question.type === 'title' || question.type === 'text' ? <TextField\n            fullWidth\n            margin=\"normal\"\n            onChange={e => handleFieldInput(e.target.value, index)}\n            value={question.value ? question.value : \"\"}\n            label={(question.mandatory ? \"* \" : \" \") + question.question}\n            variant=\"outlined\"\n          /> : question.type === 'checkbox' ? <FormControlLabel \n            control={<Switch \n              value={question.value ? question.value : false}\n              onChange={e => handleFieldInput(e.target.checked, index)}\n              color=\"secondary\"\n            />}\n            label={(question.mandatory ? \"* \" : \" \") + question.question}\n            labelPlacement=\"start\"\n            /> : question.type === 'select' ? <FormControl variant=\"outlined\">\n                <InputLabel id={question.field + \"-select-label\"}>{(question.mandatory ? \"* \" : \" \") + question.question}</InputLabel>\n                <Select\n                  id={question.field + \"-select\"}\n                  value={question.value ? question.value : \"\"}\n                  onChange={e => handleFieldInput(e.target.value, index)}\n                  // label={(question.mandatory ? \"* \" : \" \") + question.question}\n                >\n                  <MenuItem value=\"\">\n                    <em>None</em>\n                  </MenuItem>\n                  {question.options.map( (option) => (\n                    <MenuItem value={option}>{option}</MenuItem>\n                  ))}\n              </Select>\n              </FormControl> : question.type === 'multi_select' ? <FormControl variant=\"outlined\">\n                <InputLabel id={question.field + \"-multi-select-label\"}>{(question.mandatory ? \"* \" : \" \") + question.question}</InputLabel>\n                <Select\n                  multiple\n                  id={question.field + \"-multi-select\"}\n                  value={question.value ? question.value : \"\"}\n                  onChange={e => handleFieldInput(e.target.value, index)}\n                  input={<Input id={question.field + \"-multi-select-chip\"}/>}\n                  renderValue={(selected) => (\n                    <div className=\"chips\">\n                      {selected.map((value) => (\n                        <Chip key={value} label={value} className=\"chip\"/>\n                      ))}\n                    </div>\n                  )}\n                  // MenuProps={MenuProps}\n                  // label={(question.mandatory ? \"* \" : \" \") + question.question}\n                >\n                  {question.options.map((option) => (\n                    <MenuItem key={option} value={option}>\n                      <Checkbox checked={question.value ? question.value.indexOf(option) > -1 : false} />\n                      <ListItemText primary={option} />\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl> : \"\"}\n        </div>\n      ))}\n      <br/>\n      <div className=\"UserInput\" >\n        {loaded ? <Button\n          variant=\"contained\"\n          color=\"default\"\n          onClick={() => submit(history)}\n        >\n          <h2>{submitting ? \"Submitting...\" : \"Submit\"}</h2>\n        </Button> : \"\"}\n        <p>{submitError}</p>\n      </div>\n    </div>\n  );\n}","import React, { useEffect }from 'react';\nimport './styles.css';\nimport { Link } from 'react-router-dom'\n\n\nexport default function Submitted(self) {\n    useEffect(() => {\n        document.title = \"Response Submitted\"\n    }, []);\n\n    let formPath = `/form/${self.location.state.form_id}`\n    return (\n        <div className=\"Container\">\n            <h1>Your response has been recorded.</h1>\n            <p><Link to={formPath}>Submit another response</Link></p>\n        </div>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport './styles.css';\nimport { Button, TextField } from \"@material-ui/core\";\n\nexport default function Create() {\n    const [formHeading, setFormHeading] = useState(\"\");\n    const [user, setUser] = useState(\"\");\n    const [pass, setPass] = useState(\"\");\n    const [responseDb, setResponseDb] = useState(\"\");\n    const [createError, setCreateError] = useState(\"\");\n    const [creating, setCreating] = useState(false);\n    const history = useHistory()\n\n    useEffect(() => {\n        document.title = \"Create Form\"\n    }, []);\n\n    const create = (history) => {\n        setCreating(true)\n        setCreateError(\"\")\n        let body = {\n            form_heading:formHeading,\n            user:user,\n            pass:pass,\n            notion_db:responseDb\n        }\n        let options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n        }\n        fetch(`/api/createForm`, options).then(res => {\n            if (res.status === 200) {\n                res.json().then(data => {\n                    history.push('/created', { form_id: data.id, notion_db: responseDb })\n                })\n            } else if (res.status === 401) {\n                setCreating(false)\n                setCreateError(\"Could not create form, username and password were not found. If you do not have a username and password, join the waitlist. Otherwise, try again or contact me if you're unable to use your account.\")\n            } else {\n                setCreating(false)\n                setCreateError(\"Could not create form, check that all fields are included and links to notion are valid.\")\n            }\n        })\n    };\n\n    const handleFormHeadingInput = (value) => {\n        setFormHeading(value)\n        setCreateError(\"\")\n    }\n\n    const handleUserInput = (value) => {\n        setUser(value)\n        setCreateError(\"\")\n    }\n\n    const handlePassInput = (value) => {\n        setPass(value)\n        setCreateError(\"\")\n    }\n\n    const handleResponseDbInput = (value) => {\n        setResponseDb(value)\n        setCreateError(\"\")\n    }\n\n    return (\n        <div className=\"Container\">\n            <h1>Create Form</h1>\n            <div>\n                <p><Link target=\"_blank\" to='/form/5ee8e0606b5647fed80c522f'>If you don't have an account, join the waitlist to start creating your own forms as soon as possible</Link></p>\n                <p><Link to='/'>Cancel and go back to home</Link></p>\n            </div>\n            <div>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    onChange={e => handleUserInput(e.target.value)}\n                    value={user}\n                    label=\"* Username\"\n                    variant=\"outlined\"\n                />\n            </div>\n            <div>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    onChange={e => handlePassInput(e.target.value)}\n                    value={pass}\n                    label=\"* Password\"\n                    type=\"password\"\n                    variant=\"outlined\"\n                />\n            </div>\n            <div>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    onChange={e => handleFormHeadingInput(e.target.value)}\n                    value={formHeading}\n                    label=\"* Form Heading\"\n                    variant=\"outlined\"\n                />\n            </div>\n            <div>\n                <TextField\n                    fullWidth\n                    margin=\"normal\"\n                    onChange={e => handleResponseDbInput(e.target.value)}\n                    value={responseDb}\n                    label=\"* Link to Response DB\"\n                    variant=\"outlined\"\n                />\n            </div>\n            <br />\n            <div>\n                <Button\n                    variant=\"contained\"\n                    color=\"default\"\n                    onClick={() => create(history)}\n                >\n                    <h2>{creating ? \"Creating...\" : \"Create\"}</h2>\n                </Button>\n                <p>{createError}</p>\n            </div>\n            \n        </div>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport './styles.css';\nimport { Link } from 'react-router-dom'\n\nexport default function Created(self) {\n    let base = window.location.host\n    const [formPath, setFormPath] = useState(\"\");\n    const [formsDb, setFormsDb] = useState(\"\");\n    const [fieldsDb, setFieldsDb] = useState(\"\");\n    const [responseDb, setResponseDb] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        document.title = \"Form Created\"\n        fetch(`/api/getForm/${self.location.state.form_id}`).then(res => res.json()).then(data => {\n            setFormsDb(`${data.forms_db}`)\n            setFieldsDb(`${data.fields_db}`)\n            setResponseDb(`${self.location.state.notion_db}`)\n            setFormPath(`/form/${self.location.state.form_id}`)\n            setLoaded(true)\n        });\n    }, [self.location.state.form_id, self.location.state.notion_db]);\n\n    return (\n        <div className=\"Container\">\n            <h1>{loaded ? 'Your form has been created' : \"Finishing up...\"}</h1>\n            {loaded ? <div>\n                <p>Your form is live at: <Link target=\"_blank\" to={formPath}>{base}{formPath}</Link></p>\n                <p>Your form will send responses to: <a target=\"_blank\" href={responseDb}>this notion collection</a></p>\n                <p>You can edit your form using: <a target=\"_blank\" href={formsDb}>your forms notion collection</a> and <a target=\"_blank\" href={fieldsDb}>your fields notion collection</a></p>\n                <p><Link to='/'>Back to home</Link></p>\n            </div> : \"\"}\n        </div>\n    );\n}","import React from 'react';\nimport './styles.css';\nimport { Link } from 'react-router-dom'\n\nexport default function About() {\n    return (\n        <div className=\"Container\">\n            <h1>Notion Forms</h1>\n            <p>With Notion Forms, you can create and manage forms that submit responses directly into your Notion databases. You will be able to manage your forms using your own Notion databases.</p>\n            <p><Link to='/'>Back to home</Link></p>\n        </div>\n    );\n}"],"sourceRoot":""}