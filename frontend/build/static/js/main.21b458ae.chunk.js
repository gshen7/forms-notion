(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,a){},69:function(e,t,a){e.exports=a(80)},74:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),c=a(11),i=a(12),u=(a(74),a(53)),m=a(14),s=a(123),d=a(116),f=a(117),b=a(115),E=a(125),p=a(121),h=a(126),v=a(110),g=a(127),j=a(122),O=a(118),y=a(119),k=a(120);a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Notion Forms"),r.a.createElement("p",null,r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:"/form/5ee8e0606b5647fed80c522f"},"Join the waitlist to start creating your own forms as soon as possible")),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/create"},"Create a form (account required)")),r.a.createElement("p",null,r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:"/form/5eed12b343af73792c5b0a10"},"Let us know what you think of Notion Forms")),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/about"},"About")))}}),r.a.createElement(i.a,{exact:!0,path:"/form/:form_id",component:function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),c=Object(m.a)(l,2),w=c[0],C=c[1],N=Object(n.useState)([]),S=Object(m.a)(N,2),_=S[0],F=S[1],x=Object(n.useState)(""),W=Object(m.a)(x,2),B=W[0],T=W[1],q=Object(n.useState)(!1),Y=Object(m.a)(q,2),I=Y[0],J=Y[1],L=Object(n.useState)(!1),P=Object(m.a)(L,2),U=P[0],D=P[1],R=Object(i.g)().form_id,A=Object(i.f)(),H=function(e,t){var a=_[t];a.value=e,F([].concat(Object(u.a)(_.slice(0,t)),[a],Object(u.a)(_.slice(t+1)))),T("")};Object(n.useEffect)((function(){fetch("/api/getFormForDisplay/".concat(R)).then((function(e){if(200===e.status)return e.json().then((function(e){o(e.heading),C(e.description),F(e.questions),D(!0),document.title=e.heading?e.heading:"Form"}));A.push("/no-form")}))}),[R,A]);var V=w?r.a.createElement("p",null,w):"";return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,a||"Loading..."),V,_.map((function(e,t){return r.a.createElement("div",{className:"UserInput",key:e.field},"title"===e.type||"text"===e.type?r.a.createElement(s.a,{fullWidth:!0,margin:"normal",onChange:function(e){return H(e.target.value,t)},value:e.value?e.value:"",label:(e.mandatory?"* ":" ")+e.question,variant:"outlined"}):"checkbox"===e.type?r.a.createElement(d.a,{control:r.a.createElement(f.a,{value:!!e.value&&e.value,onChange:function(e){return H(e.target.checked,t)},color:"secondary"}),label:(e.mandatory?"* ":" ")+e.question,labelPlacement:"start"}):"select"===e.type?r.a.createElement(b.a,{variant:"outlined"},r.a.createElement(E.a,{id:e.field+"-select-label"},(e.mandatory?"* ":" ")+e.question),r.a.createElement(p.a,{id:e.field+"-select",value:e.value?e.value:"",onChange:function(e){return H(e.target.value,t)}},r.a.createElement(h.a,{value:""},r.a.createElement("em",null,"None")),e.options.map((function(e){return r.a.createElement(h.a,{value:e},e)})))):"multi_select"===e.type?r.a.createElement(b.a,{variant:"outlined"},r.a.createElement(E.a,{id:e.field+"-multi-select-label"},(e.mandatory?"* ":" ")+e.question),r.a.createElement(p.a,{multiple:!0,id:e.field+"-multi-select",value:e.value?e.value:"",onChange:function(e){return H(e.target.value,t)},input:r.a.createElement(v.a,{id:e.field+"-multi-select-chip"}),renderValue:function(e){return r.a.createElement("div",{className:"chips"},e.map((function(e){return r.a.createElement(g.a,{key:e,label:e,className:"chip"})})))}},e.options.map((function(t){return r.a.createElement(h.a,{key:t,value:t},r.a.createElement(j.a,{checked:!!e.value&&e.value.indexOf(t)>-1}),r.a.createElement(O.a,{primary:t}))})))):"")})),r.a.createElement("br",null),r.a.createElement("p",null,B),r.a.createElement("div",{className:"UserInput"},U?r.a.createElement(y.a,{variant:"contained",color:"default",onClick:function(){return function(e){J(!0),T("");var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)};fetch("/api/submitToForm/".concat(R),t).then((function(t){200===t.status?e.push("/submitted",{form_id:R}):(J(!1),T("Could not submit form, check that all mandatory fields are included"))}))}(A)}},r.a.createElement("h2",null,I?r.a.createElement("div",null,r.a.createElement(k.a,null),r.a.createElement("p",null,"Submitting...")):r.a.createElement("div",null,r.a.createElement(k.a,{variant:"determinate",value:0}),r.a.createElement("p",null,"Submit")))):""))}}),r.a.createElement(i.a,{exact:!0,path:"/submitted",component:function(e){Object(n.useEffect)((function(){document.title="Response Submitted"}),[]);var t="/form/".concat(e.location.state.form_id);return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Your response has been recorded."),r.a.createElement("p",null,r.a.createElement(c.b,{to:t},"Submit another response")))}}),r.a.createElement(i.a,{exact:!0,path:"/create",component:function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),u=Object(m.a)(l,2),d=u[0],f=u[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),p=E[0],h=E[1],v=Object(n.useState)(""),g=Object(m.a)(v,2),j=g[0],O=g[1],w=Object(n.useState)(""),C=Object(m.a)(w,2),N=C[0],S=C[1],_=Object(n.useState)(!1),F=Object(m.a)(_,2),x=F[0],W=F[1],B=Object(i.f)();return Object(n.useEffect)((function(){document.title="Create Form"}),[]),r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Create Form"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:"/form/5ee8e0606b5647fed80c522f"},"If you don't have an account, join the waitlist to start creating your own forms as soon as possible")),r.a.createElement("p",null,r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:"/form/5eed12b343af73792c5b0a10"},"Let us know if you're enjoying Notion Forms or how we can improve")),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/"},"Cancel and go back to home"))),r.a.createElement("div",null,r.a.createElement(s.a,{fullWidth:!0,margin:"normal",onChange:function(e){return t=e.target.value,f(t),void S("");var t},value:d,label:"* Username",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(s.a,{fullWidth:!0,margin:"normal",onChange:function(e){return t=e.target.value,h(t),void S("");var t},value:p,label:"* Password",type:"password",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(s.a,{fullWidth:!0,margin:"normal",onChange:function(e){return t=e.target.value,o(t),void S("");var t},value:a,label:"* Form Heading",variant:"outlined"})),r.a.createElement("div",null,r.a.createElement(s.a,{fullWidth:!0,margin:"normal",onChange:function(e){return t=e.target.value,O(t),void S("");var t},value:j,label:"* Link to Response DB",variant:"outlined"})),r.a.createElement("br",null),r.a.createElement("p",null,N),r.a.createElement("div",null,r.a.createElement(y.a,{variant:"contained",color:"default",onClick:function(){return function(e){W(!0),S("");var t={form_heading:a,user:d,pass:p,notion_db:j},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("/api/createForm",n).then((function(t){200===t.status?t.json().then((function(t){e.push("/created",{form_id:t.id,notion_db:j})})):401===t.status?(W(!1),S("Could not create form, username and password were not found. If you do not have a username and password, join the waitlist. Otherwise, try again or contact me if you're unable to use your account.")):(W(!1),S("Could not create form, check that all fields are included and links to notion are valid."))}))}(B)}},r.a.createElement("h2",null,x?r.a.createElement("div",null,r.a.createElement(k.a,null),r.a.createElement("p",null,"creating...")):r.a.createElement("div",null,r.a.createElement(k.a,{variant:"determinate",value:0}),r.a.createElement("p",null,"Create"))))))}}),r.a.createElement(i.a,{exact:!0,path:"/created",component:function(e){var t=window.location.host,a=Object(n.useState)(""),o=Object(m.a)(a,2),l=o[0],i=o[1],u=Object(n.useState)(""),s=Object(m.a)(u,2),d=s[0],f=s[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),p=E[0],h=E[1],v=Object(n.useState)(""),g=Object(m.a)(v,2),j=g[0],O=g[1],y=Object(n.useState)(!1),k=Object(m.a)(y,2),w=k[0],C=k[1];return Object(n.useEffect)((function(){document.title="Form Created",fetch("/api/getForm/".concat(e.location.state.form_id)).then((function(e){return e.json()})).then((function(t){f("".concat(t.forms_db)),h("".concat(t.fields_db)),O("".concat(e.location.state.notion_db)),i("/form/".concat(e.location.state.form_id)),C(!0)}))}),[e.location.state.form_id,e.location.state.notion_db]),r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,w?"Your form has been created":"Finishing up..."),w?r.a.createElement("div",null,r.a.createElement("p",null,"Your form is live at: ",r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:l},t,l)),r.a.createElement("p",null,"Your form will send responses to: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:j},"this notion collection")),r.a.createElement("p",null,"You can edit your form using: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:d},"your forms notion collection")," and ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:p},"your fields notion collection")),r.a.createElement("p",null,r.a.createElement(c.b,{target:"_blank",rel:"noopener noreferrer",to:"/form/5eed12b343af73792c5b0a10"},"Let us know about your experience creating a form with Notion Forms")),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/"},"Back to home"))):"")}}),r.a.createElement(i.a,{exact:!0,path:"/about",component:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Notion Forms"),r.a.createElement("p",null,"With Notion Forms, you can create and manage forms that submit responses directly into your Notion databases. You will be able to manage your forms using your own Notion databases."),r.a.createElement("p",null,"Currently we support forms with text/title, checkbox, select, and multi select fields."),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/"},"Back to home")))}}),r.a.createElement(i.a,{exact:!0,path:"/no-form",component:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Notion Forms"),r.a.createElement("p",null,"The form you're looking for wasn't found."),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/"},"Back to home")))}}),r.a.createElement(i.a,{exact:!0,component:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement("h1",null,"Notion Forms"),r.a.createElement("p",null,"The page you're looking for wasn't found."),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/"},"Back to home")))}})));l.a.render(w,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.21b458ae.chunk.js.map